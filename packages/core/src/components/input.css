.label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 550;
  color: var(--color-text);
}

.field {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-1\.5);
}

:where(.input, .textarea) {
  display: block;
  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);
  border: var(--border-width-thick) solid var(--color-border);
  border-radius: var(--radius-field);
  font-size: var(--text-base);
  line-height: var(--leading-base);
  color: var(--color-text);
  background-color: var(--color-surface);
  transition:
    border-color var(--duration-normal) var(--ease-default),
    box-shadow var(--duration-normal) var(--ease-default);

  &::placeholder {
    color: var(--color-text-subtle);
  }

  &:hover:not(:disabled, :focus) {
    border-color: var(--color-border-strong);
  }

  &:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 var(--focus-glow-spread) oklch(from var(--color-primary) l c h / var(--opacity-focus-ring));
  }

  &:disabled {
    opacity: var(--opacity-disabled);
    cursor: not-allowed;
  }

  &:user-invalid:not(:focus) {
    border-color: var(--color-error);
  }

  &:user-valid:not(:placeholder-shown):not(:focus) {
    border-color: var(--color-success);
  }
}

.textarea {
  resize: vertical;
  min-height: 5rem;
}

.input-sm {
  padding: var(--spacing-1\.5) var(--spacing-2\.5);
  font-size: var(--text-xs);
  line-height: var(--leading-xs);
}

.input-lg {
  padding: var(--spacing-2\.5) var(--spacing-4);
  font-size: var(--text-lg);
  line-height: var(--leading-lg);
}

.input-error {
  border-color: var(--color-error);

  &:focus {
    border-color: var(--color-error);
    box-shadow: 0 0 0 var(--focus-glow-spread) oklch(from var(--color-error) l c h / var(--opacity-focus-ring));
  }
}

.input-success {
  border-color: var(--color-success);

  &:focus {
    border-color: var(--color-success);
    box-shadow: 0 0 0 var(--focus-glow-spread) oklch(from var(--color-success) l c h / var(--opacity-focus-ring));
  }
}

.input-warning {
  border-color: var(--color-warning);

  &:focus {
    border-color: var(--color-warning);
    box-shadow: 0 0 0 var(--focus-glow-spread) oklch(from var(--color-warning) l c h / var(--opacity-focus-ring));
  }
}

:where(.help, .help-error, .help-success, .help-warning) {
  font-size: var(--text-xs);
}

.help {
  color: var(--color-text-muted);
}

.help-error {
  color: var(--color-error);
}

.help-success {
  color: var(--color-success);
}

.help-warning {
  color: var(--color-warning);
}

.input-wrapper {
  position: relative;
  display: flex;
  align-items: center;

  & > .input {
    width: 100%;
  }

  & > .input-prefix,
  & > .input-suffix {
    position: absolute;
    display: inline-flex;
    align-items: center;
    color: var(--color-text-subtle);
    pointer-events: none;
  }

  & > .input-prefix {
    left: var(--spacing-3);
  }

  & > .input-suffix {
    right: var(--spacing-3);
  }

  &:has(.input-prefix) > .input {
    padding-left: var(--spacing-9);
  }

  &:has(.input-suffix) > .input {
    padding-right: var(--spacing-9);
  }
}

.input-group {
  display: flex;
  align-items: stretch;

  & > :first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  & > :last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  & > :not(:first-child):not(:last-child) {
    border-radius: 0;
  }

  & > :not(:first-child) {
    margin-left: calc(-1 * var(--border-width-thick));
  }

  & > .input {
    flex: 1;
    min-width: 0;
  }

  & > :focus {
    z-index: var(--z-raised);
  }
}

.input-addon {
  display: inline-flex;
  align-items: center;
  padding: var(--spacing-2) var(--spacing-3);
  border: var(--border-width-thick) solid var(--color-border);
  border-radius: var(--radius-field);
  font-size: var(--text-base);
  line-height: var(--leading-base);
  color: var(--color-text-muted);
  background-color: var(--color-base-subtle);
  white-space: nowrap;
}
