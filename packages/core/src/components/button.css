.btn {
  --_color: var(--color-primary);
  --_color-content: var(--color-primary-content);

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-2);
  padding: var(--spacing-component-md);
  border-radius: var(--radius-btn);
  font-size: var(--text-base);
  font-weight: var(--font-weight-semibold);
  line-height: var(--leading-base);
  white-space: nowrap;
  border: none;
  cursor: pointer;
  user-select: none;
  background-color: var(--_color);
  color: var(--_color-content);
  transition:
    background-color var(--duration-normal) var(--ease-default),
    box-shadow var(--duration-normal) var(--ease-default),
    color var(--duration-normal) var(--ease-default),
    opacity var(--duration-normal) var(--ease-default),
    transform var(--duration-fast) var(--ease-default);

  &:hover:not(:disabled) {
    background-color: oklch(from var(--_color) calc(l - var(--l-hover)) c h);
  }

  &:active:not(:disabled) {
    background-color: oklch(from var(--_color) calc(l - var(--l-active)) c h);
    transform: scale(0.97);
  }

  &:focus-visible {
    outline: var(--focus-ring-width) solid oklch(from var(--_color) l c h / var(--opacity-focus-ring));
    outline-offset: var(--focus-ring-offset);
  }

  &:disabled {
    opacity: var(--opacity-disabled);
    cursor: not-allowed;
    pointer-events: none;
  }
}

.btn-secondary { --_color: var(--color-secondary); --_color-content: var(--color-secondary-content); }
.btn-warning { --_color: var(--color-warning); --_color-content: var(--color-warning-content); }
.btn-error { --_color: var(--color-error); --_color-content: var(--color-error-content); }
.btn-success { --_color: var(--color-success); --_color-content: var(--color-success-content); }
.btn-info { --_color: var(--color-info); --_color-content: var(--color-info-content); }

.btn-outline {
  background-color: transparent;
  box-shadow: inset 0 0 0 1.5px var(--_color);
  color: var(--_color);

  &:hover:not(:disabled) {
    background-color: var(--_color);
    color: var(--_color-content);
    box-shadow: none;
  }

  &:active:not(:disabled) {
    background-color: oklch(from var(--_color) calc(l - var(--l-hover)) c h);
  }
}

.btn-ghost {
  background-color: transparent;
  color: var(--_color);

  &:hover:not(:disabled) {
    background-color: oklch(from var(--_color) l c h / var(--opacity-soft-hover));
  }

  &:active:not(:disabled) {
    background-color: oklch(from var(--_color) l c h / var(--opacity-soft-active));
  }
}

.btn-sm {
  padding: var(--spacing-component-xs);
  font-size: var(--text-xs);
  line-height: var(--leading-xs);
}

.btn-lg {
  padding: var(--spacing-component-lg);
  font-size: var(--text-lg);
  line-height: var(--leading-lg);
}

.btn-icon {
  aspect-ratio: 1;
  padding: var(--spacing-2);

  &.btn-sm {
    padding: var(--spacing-1\.5);
  }

  &.btn-lg {
    padding: var(--spacing-2\.5);
  }
}

.btn-pill {
  border-radius: var(--radius-full);
}

.btn-block {
  display: flex;
  width: 100%;
}

.btn-loading {
  position: relative;
  color: transparent;
  pointer-events: none;

  &::after {
    content: '';
    position: absolute;
    width: 1em;
    height: 1em;
    border: var(--border-width-thick) solid oklch(from var(--_color-content) l c h / 0.3);
    border-top-color: var(--_color-content);
    border-radius: var(--radius-full);
    animation: loader-spin 0.75s linear infinite;
  }
}

.btn-group {
  display: inline-flex;

  & > :first-child {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  & > :last-child {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  & > :not(:first-child):not(:last-child) {
    border-radius: 0;
  }

  & > :not(:first-child) {
    margin-left: -1.5px;
  }

  & > :focus-visible {
    z-index: var(--z-raised);
  }
}
